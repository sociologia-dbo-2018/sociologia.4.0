{"version":3,"sources":["../objects/veiculos.object.js","../objects/keyWords.object.js","../modules/wordFinder.module.js","../modules/renderNews.module.js","../modules/rss.module.js","../js/feed.js"],"names":["veiculos","nome","endpoint","itens","key_words","wordFinder","description","punctuation","map","element","includes","replace","substring","length","key_word","word","console","log","renderNews","title","link","divNew","document","querySelector","a","createElement","href","textContent","li","className","append","appendChild","getNews","CORS_PROXY","xml","veiculo","fetch","then","r","text","str","parser","DOMParser","parseFromString","querySelectorAll","itemTag","push","children","find_word_keys","item","Array","from","i","tagName","toLowerCase","split","addEventListener"],"mappings":"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","file":"feed.2787f9fd.map","sourceRoot":"../pages","sourcesContent":["export const veiculos = [{\n    nome: 'O Globo',\n    endpoint: 'https://oglobo.globo.com/rss.xml?completo=true',\n    itens: []\n},\n{\n    nome: 'Folha de São Paulo',\n    endpoint: 'https://feeds.folha.uol.com.br/mundo/rss091.xml',\n    itens: []\n},\n{\n    nome: 'Revista Época',\n    endpoint: 'http://revistaepoca.globo.com/Revista/Epoca/Rss/0,,EDT0-15223,00.xml',\n    itens: []\n},\n{\n    nome: 'Revista Época',\n    endpoint: 'http://revistaepoca.globo.com/Revista/Epoca/Rss/0,,EDT0-15228,00.xml',\n    itens: []\n}\n];\n","export const key_words = [\n    'roubo',\n    'furto',\n    'assalto',\n    'tortura',\n    'estupro',\n    'assédio',\n    'homofobia',\n    'transfobia',\n    'lgbtfobia',\n    'machismo',\n    'feminicídio',\n    'ameaça',\n    'bullying',\n    'ciberbullying',\n    'psicológica',\n    'racismo',\n    'capacitismo',\n    'preconceito',\n    'víti',\n    'assasinato',\n    'violentos',\n    'violento',\n    'refé'\n];\n","import {key_words} from '../objects/keyWords.object.js';\n\nexport const wordFinder = (description) => {\n    // Python ;)\n    const punctuation = '!\"#$%&\\'()*+,-./:;<=>?@[\\\\]^_`{|}~';\n    // Removento qualquer pontuação de inicio ou fim\n    description = description.map(function(element) {\n        if (punctuation.includes(element[0])) {\n            return element.replace(element, element.substring(1));\n        } else if (punctuation.includes(element[element.length - 1])) {\n            return element.replace(element,\n                element.substring(0, element.length - 1));\n        } else {\n            return element;\n        }\n    });\n\n    for (const key_word of key_words) {\n        for (const word of description) {\n            if (key_word === word) {\n                console.log('word');\n                return true;\n            }\n        }\n    }\n    return false;\n};\n","export const renderNews = (title, link) => {\n    const divNew = document.querySelector('.news');\n    // titulo da noticia\n    const a = document.createElement('a');\n    // Incluindo link\n    a.href = link;\n    // Incluindo titulo\n    a.textContent = title;\n\n    const li = document.createElement('li');\n    li.className = 'list-group-item';\n\n    li.append(a);\n    divNew.appendChild(li);\n    // console.log(object);\n};\n","import {veiculos} from '../objects/veiculos.object.js';\nimport {wordFinder} from './wordFinder.module.js';\nimport {renderNews} from './renderNews.module.js';\n\nexport const getNews = () => {\n    const CORS_PROXY = 'https://cors.io/?';\n\n    let xml;\n    for (const veiculo of veiculos) {\n        fetch(CORS_PROXY + veiculo.endpoint)\n            .then((r) => r.text())\n            .then((str) => {\n                const parser = new DOMParser();\n                xml = parser.parseFromString(str, 'text/xml');\n                for (const itemTag of xml.querySelectorAll('item')) {\n                    veiculo.itens.push(itemTag.children);\n                }\n\n                find_word_keys(veiculo);\n            });\n    }\n};\n\nconst find_word_keys = (veiculo) => {\n    // Navegando nos itens trazidos\n    for (let item of veiculo.itens) {\n        // Cria um vetor com todas as palavras em minusculos da descrição\n        item = Array.from(item);\n        let title = null;\n        let link = null;\n        for (const i of item) {\n            if (i.tagName === 'title') title = i.textContent;\n            if (i.tagName === 'link') link = i.textContent;\n        }\n        for (const i of item) {\n            if (i.tagName === 'description') {\n                const description = i.textContent.toLowerCase().split(' ');\n                if (wordFinder(description)) {\n                    renderNews(title, link);\n                }\n            }\n        }\n    }\n};\n","import {getNews} from '../modules/rss.module.js';\n\ndocument.addEventListener('DOMContentLoaded', getNews);\n\n// function init() {\n//     // Carregando o Feed Principal do mapa\n\n//     // Carregando RSS Global\n//     getNews();\n//     // Carregando RSS Local\n\n//     // Alguns Eventos\n// }\n"]}