{"version":3,"sources":["../objects/veiculos.object.js","../objects/keyWords.object.js","../modules/renderNews.module.js","../modules/wordFinder.module.js","../modules/rss.module.js","../js/feed.js"],"names":["veiculos","nome","endpoint","itens","keyWords","renderNews","title","link","divNew","document","querySelector","a","createElement","href","textContent","target","li","className","append","appendChild","wordFinder","description","punctuation","map","element","includes","replace","substring","length","word","getNews","CORS_PROXY","xml","veiculo","fetch","then","r","text","str","parser","DOMParser","parseFromString","querySelectorAll","itemTag","push","children","findWordKeys","item","Array","from","i","tagName","toLowerCase","split","addEventListener"],"mappings":"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","file":"feed.2787f9fd.map","sourceRoot":"../pages","sourcesContent":["export const veiculos = [{\n    nome: 'O Globo',\n    endpoint: 'https://oglobo.globo.com/rss.xml?completo=true',\n    itens: []\n},\n{\n    nome: 'Folha de São Paulo',\n    endpoint: 'https://feeds.folha.uol.com.br/mundo/rss091.xml',\n    itens: []\n},\n{\n    nome: 'Revista Época',\n    endpoint: 'http://revistaepoca.globo.com/Revista/Epoca/Rss/0,,EDT0-15223,00.xml',\n    itens: []\n},\n{\n    nome: 'Revista Época',\n    endpoint: 'http://revistaepoca.globo.com/Revista/Epoca/Rss/0,,EDT0-15228,00.xml',\n    itens: []\n}\n];\n","export const keyWords = [\n    'roub',\n    'furt',\n    'assal',\n    'tortur',\n    'estupr',\n    'assédi',\n    'assedi',\n    'homof',\n    'trans',\n    'transf',\n    'lgbtf',\n    'lgbt',\n    'machi',\n    'machismo',\n    'feminicídio',\n    'feminicidio',\n    'feminic',\n    'ameaç',\n    'ameaça',\n    'ameaca',\n    'ameac',\n    'bully',\n    'ciberbullying',\n    'psicologica',\n    'psicolog',\n    'psicológica',\n    'psicológ',\n    'racis',\n    'capacitismo',\n    'preconc',\n    'viti',\n    'víti',\n    'assasin',\n    'violen',\n    'refé',\n    'refe'\n];\n","export const renderNews = (title, link) => {\n    const divNew = document.querySelector('.news');\n    // titulo da noticia\n    const a = document.createElement('a');\n    // Incluindo link\n    a.href = link;\n    // Incluindo titulo\n    a.textContent = title;\n\n    a.target = '_blank';\n\n    const li = document.createElement('li');\n    li.className = 'list-group-item';\n\n    li.append(a);\n    divNew.appendChild(li);\n};\n","import {keyWords} from '../objects/keyWords.object.js';\nimport {renderNews} from './renderNews.module.js';\n\nexport const wordFinder = (description, title, link) => {\n    // Python ;)\n    const punctuation = '!\"#$%&\\'()*+,-./:;<=>?@[\\\\]^_`{|}~';\n    // Removento qualquer pontuação de inicio ou fim\n    description = description.map(function(element) {\n        if (punctuation.includes(element[0])) {\n            return element.replace(element, element.substring(1));\n        } else if (punctuation.includes(element[element.length - 1])) {\n            return element.replace(element,\n                element.substring(0, element.length - 1));\n        } else {\n            return element;\n        }\n    });\n\n    for (const word of description) {\n        if (keyWords.includes(word)) {\n            renderNews(title, link);\n        }\n    }\n    return false;\n};\n","import {veiculos} from '../objects/veiculos.object.js';\nimport {wordFinder} from './wordFinder.module.js';\n// import {renderNews} from './renderNews.module.js';\n\nexport const getNews = () => {\n    const CORS_PROXY = 'https://cors.io/?';\n\n    let xml;\n    for (const veiculo of veiculos) {\n        fetch(CORS_PROXY + veiculo.endpoint)\n            .then((r) => r.text())\n            .then((str) => {\n                const parser = new DOMParser();\n                xml = parser.parseFromString(str, 'text/xml');\n                for (const itemTag of xml.querySelectorAll('item')) {\n                    veiculo.itens.push(itemTag.children);\n                }\n\n                findWordKeys(veiculo);\n            });\n    }\n};\nconst findWordKeys = (veiculo) => {\n    // Navegando nos itens trazidos\n    for (let item of veiculo.itens) {\n        // Cria um vetor com todas as palavras em minusculos da descrição\n        item = Array.from(item);\n        let title = null;\n        let link = null;\n        for (const i of item) {\n            if (i.tagName === 'title') title = i.textContent;\n            if (i.tagName === 'link') link = i.textContent;\n        }\n        for (const i of item) {\n            if (i.tagName === 'description') {\n                const description = i.textContent.toLowerCase().split(' ');\n                wordFinder(description, title, link);\n            }\n        }\n    }\n};\n","import {getNews} from '../modules/rss.module.js';\n\ndocument.addEventListener('DOMContentLoaded', getNews);\n\n// function init() {\n//     // Carregando o Feed Principal do mapa\n\n//     // Carregando RSS Global\n//     getNews();\n//     // Carregando RSS Local\n\n//     // Alguns Eventos\n// }\n"]}